// Translation dictionary
const translations = {
    en: {
        // Main page translations
        mainTitle: 'Happy New Year!',
        mainSubtitle: 'Celebrate African New Year',
        mainDescription: 'Embrace the vibrant spirit of new beginnings with African warmth and joy!',
        ctaButton: 'Learn More',
        popupTitle: 'ðŸŽ‰ New Year Celebration! ðŸŽ‰',
        popupDescription: 'Join us in celebrating new beginnings with African spirit and hope!',
        popupLearnMore: 'Learn More',
        footerDescription: 'Celebrating the spirit of African New Year with hope, joy, and unity',
        
        // Modal translations
        aboutModalTitle: 'About African New Year Celebration',
        aboutModalParagraph1: 'The African New Year Celebration is a vibrant festival that embraces the rich cultural heritage and diverse traditions of the African continent. Our mission is to bring communities together, celebrate new beginnings, and honor the spirit of unity and hope.',
        aboutModalParagraph2: 'Each year, we create a platform for people to connect, share experiences, and look forward to the promising journey ahead. Our celebration is more than just an event â€“ it\'s a testament to the resilience, creativity, and warmth of African communities.',
        
        eventsModalTitle: 'Upcoming New Year Events',
        eventsCulturalShowcaseTitle: 'Cultural Showcase',
        eventsCulturalShowcaseDescription: 'A day-long event featuring traditional music, dance, and art from various African regions.',
        eventsCulturalShowcaseDate: 'Date: January 15th, 2024 | Time: 10:00 AM - 6:00 PM',
        
        eventsCommunityFeastTitle: 'Community Feast',
        eventsCommunityFeastDescription: 'A communal dinner celebrating African cuisine and bringing people together.',
        eventsCommunityFeastDate: 'Date: January 20th, 2024 | Time: 7:00 PM',
        
        eventsNewBeginningsConcertTitle: 'New Beginnings Concert',
        eventsNewBeginningsConcertDescription: 'An evening of music featuring African artists and performers.',
        eventsNewBeginningsConcertDate: 'Date: January 25th, 2024 | Time: 8:00 PM',
        
        contactModalTitle: 'Contact Us',
        contactNamePlaceholder: 'Your Name',
        contactEmailPlaceholder: 'Your Email',
        contactMessagePlaceholder: 'Your Message',
        contactSubmitButton: 'Send Message'
    },
    ru: {
        // Main page translations
        mainTitle: 'Ð¡ ÐÐ¾Ð²Ñ‹Ð¼ Ð“Ð¾Ð´Ð¾Ð¼!',
        mainSubtitle: 'ÐŸÑ€Ð°Ð·Ð´Ð½Ð¾Ð²Ð°Ñ‚ÑŒ ÐÑ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¸Ð¹ ÐÐ¾Ð²Ñ‹Ð¹ Ð“Ð¾Ð´',
        mainDescription: 'EmbraceÐ¸Ñ‚Ðµ ÑÑ€ÐºÐ¸Ð¹ Ð´ÑƒÑ… Ð½Ð¾Ð²Ñ‹Ñ… Ð½Ð°Ñ‡Ð¸Ð½Ð°Ð½Ð¸Ð¹ Ñ Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¸Ð¼ Ñ‚ÐµÐ¿Ð»Ð¾Ð¼ Ð¸ Ñ€Ð°Ð´Ð¾ÑÑ‚ÑŒÑŽ!',
        ctaButton: 'Ð£Ð·Ð½Ð°Ñ‚ÑŒ Ð‘Ð¾Ð»ÑŒÑˆÐµ',
        popupTitle: 'ðŸŽ‰ ÐŸÑ€Ð°Ð·Ð´Ð½Ð¸Ðº ÐÐ¾Ð²Ð¾Ð³Ð¾ Ð“Ð¾Ð´Ð°! ðŸŽ‰',
        popupDescription: 'ÐŸÑ€Ð¸ÑÐ¾ÐµÐ´Ð¸Ð½ÑÐ¹Ñ‚ÐµÑÑŒ Ðº Ð½Ð°Ð¼ Ð² Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð½Ð¾Ð²Ñ‹Ñ… Ð½Ð°Ñ‡Ð¸Ð½Ð°Ð½Ð¸Ð¹ Ñ Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¸Ð¼ Ð´ÑƒÑ…Ð¾Ð¼ Ð¸ Ð½Ð°Ð´ÐµÐ¶Ð´Ð¾Ð¹!',
        popupLearnMore: 'Ð£Ð·Ð½Ð°Ñ‚ÑŒ Ð‘Ð¾Ð»ÑŒÑˆÐµ',
        footerDescription: 'ÐŸÑ€Ð°Ð·Ð´Ð½Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´ÑƒÑ…Ð° Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¾Ð³Ð¾ ÐÐ¾Ð²Ð¾Ð³Ð¾ Ð³Ð¾Ð´Ð° Ñ Ð½Ð°Ð´ÐµÐ¶Ð´Ð¾Ð¹, Ñ€Ð°Ð´Ð¾ÑÑ‚ÑŒÑŽ Ð¸ ÐµÐ´Ð¸Ð½ÑÑ‚Ð²Ð¾Ð¼',
        
        // Modal translations
        aboutModalTitle: 'Ðž Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÐÑ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¾Ð³Ð¾ ÐÐ¾Ð²Ð¾Ð³Ð¾ Ð“Ð¾Ð´Ð°',
        aboutModalParagraph1: 'ÐŸÑ€Ð°Ð·Ð´Ð½Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐÑ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¾Ð³Ð¾ ÐÐ¾Ð²Ð¾Ð³Ð¾ Ð“Ð¾Ð´Ð° - ÑÑ‚Ð¾ ÑÑ€ÐºÐ¸Ð¹ Ñ„ÐµÑÑ‚Ð¸Ð²Ð°Ð»ÑŒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ñ…Ð²Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð±Ð¾Ð³Ð°Ñ‚Ð¾Ðµ ÐºÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ð¾Ðµ Ð½Ð°ÑÐ»ÐµÐ´Ð¸Ðµ Ð¸ Ñ€Ð°Ð·Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¸ Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚Ð¸Ð½ÐµÐ½Ñ‚Ð°. ÐÐ°ÑˆÐ° Ð¼Ð¸ÑÑÐ¸Ñ - Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð°, Ð¾Ñ‚Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ð½Ð¸Ñ Ð¸ Ð¿Ð¾Ñ‡Ñ‚Ð¸Ñ‚ÑŒ Ð´ÑƒÑ… ÐµÐ´Ð¸Ð½ÑÑ‚Ð²Ð° Ð¸ Ð½Ð°Ð´ÐµÐ¶Ð´Ñ‹.',
        aboutModalParagraph2: 'ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð³Ð¾Ð´ Ð¼Ñ‹ ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñƒ Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð»ÑŽÐ´Ð¸ Ð¼Ð¾Ð³Ð»Ð¸ Ð¾Ð±Ñ‰Ð°Ñ‚ÑŒÑÑ, Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð¾Ð¿Ñ‹Ñ‚Ð¾Ð¼ Ð¸ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²Ð¿ÐµÑ€ÐµÐ´ Ñ Ð½Ð°Ð´ÐµÐ¶Ð´Ð¾Ð¹. ÐÐ°ÑˆÐµ Ñ‚Ð¾Ñ€Ð¶ÐµÑÑ‚Ð²Ð¾ - ÑÑ‚Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ, Ñ‡ÐµÐ¼ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ, ÑÑ‚Ð¾ ÑÐ²Ð¸Ð´ÐµÑ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð¾ ÑÑ‚Ð¾Ð¹ÐºÐ¾ÑÑ‚Ð¸, Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ð° Ð¸ Ñ‚ÐµÐ¿Ð»Ð° Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¸Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð².',
        
        eventsModalTitle: 'ÐŸÑ€ÐµÐ´ÑÑ‚Ð¾ÑÑ‰Ð¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ ÐÐ¾Ð²Ð¾Ð³Ð¾ Ð“Ð¾Ð´Ð°',
        eventsCulturalShowcaseTitle: 'ÐšÑƒÐ»ÑŒÑ‚ÑƒÑ€Ð½Ð°Ñ Ð²Ñ‹ÑÑ‚Ð°Ð²ÐºÐ°',
        eventsCulturalShowcaseDescription: 'ÐžÐ´Ð½Ð¾Ð´Ð½ÐµÐ²Ð½Ð¾Ðµ Ð¼ÐµÑ€Ð¾Ð¿Ñ€Ð¸ÑÑ‚Ð¸Ðµ, featuring Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¾Ð½Ð½ÑƒÑŽ Ð¼ÑƒÐ·Ñ‹ÐºÑƒ, Ñ‚Ð°Ð½Ñ†Ñ‹ Ð¸ Ð¸ÑÐºÑƒÑÑÑ‚Ð²Ð¾ Ð¸Ð· Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¸Ñ… Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð¾Ð².',
        eventsCulturalShowcaseDate: 'Ð”Ð°Ñ‚Ð°: 15 ÑÐ½Ð²Ð°Ñ€Ñ 2024 | Ð’Ñ€ÐµÐ¼Ñ: 10:00 - 18:00',
        
        eventsCommunityFeastTitle: 'ÐžÐ±Ñ‰Ð¸Ð½Ð½Ñ‹Ð¹ Ð¿Ð¸Ñ€',
        eventsCommunityFeastDescription: 'Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð½Ñ‹Ð¹ ÑƒÐ¶Ð¸Ð½, celebrating Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¾Ð¹ ÐºÑƒÑ…Ð½Ð¸ Ð¸ Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÑŽÑ‰Ð¸Ð¹ Ð»ÑŽÐ´ÐµÐ¹.',
        eventsCommunityFeastDate: 'Ð”Ð°Ñ‚Ð°: 20 ÑÐ½Ð²Ð°Ñ€Ñ 2024 | Ð’Ñ€ÐµÐ¼Ñ: 19:00',
        
        eventsNewBeginningsConcertTitle: 'ÐšÐ¾Ð½Ñ†ÐµÑ€Ñ‚ "ÐÐ¾Ð²Ñ‹Ðµ ÐÐ°Ñ‡Ð¸Ð½Ð°Ð½Ð¸Ñ"',
        eventsNewBeginningsConcertDescription: 'Ð’ÐµÑ‡ÐµÑ€ Ð¼ÑƒÐ·Ñ‹ÐºÐ¸ Ñ ÑƒÑ‡Ð°ÑÑ‚Ð¸ÐµÐ¼ Ð°Ñ„Ñ€Ð¸ÐºÐ°Ð½ÑÐºÐ¸Ñ… Ð°Ñ€Ñ‚Ð¸ÑÑ‚Ð¾Ð² Ð¸ Ð¸ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÐµÐ¹.',
        eventsNewBeginningsConcertDate: 'Ð”Ð°Ñ‚Ð°: 25 ÑÐ½Ð²Ð°Ñ€Ñ 2024 | Ð’Ñ€ÐµÐ¼Ñ: 20:00',
        
        contactModalTitle: 'Ð¡Ð²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸',
        contactNamePlaceholder: 'Ð’Ð°ÑˆÐµ Ð¸Ð¼Ñ',
        contactEmailPlaceholder: 'Ð’Ð°Ñˆ Email',
        contactMessagePlaceholder: 'Ð’Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ',
        contactSubmitButton: 'ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ'
    }
};

// Language toggle functionality
const languageButtons = document.querySelectorAll('.language-btn');
const elementsToTranslate = [
    'mainTitle', 'mainSubtitle', 'mainDescription', 'ctaButton',
    'popupTitle', 'popupDescription', 'popupLearnMore', 'footerDescription',
    
    // Modal translation elements
    'aboutModalTitle', 'aboutModalParagraph1', 'aboutModalParagraph2',
    'eventsModalTitle', 'eventsCulturalShowcaseTitle', 'eventsCulturalShowcaseDescription', 'eventsCulturalShowcaseDate',
    'eventsCommunityFeastTitle', 'eventsCommunityFeastDescription', 'eventsCommunityFeastDate',
    'eventsNewBeginningsConcertTitle', 'eventsNewBeginningsConcertDescription', 'eventsNewBeginningsConcertDate',
    'contactModalTitle', 'contactNamePlaceholder', 'contactEmailPlaceholder', 'contactMessagePlaceholder', 'contactSubmitButton'
];

function setLanguage(lang) {
    // Save language preference to localStorage
    localStorage.setItem('selectedLanguage', lang);

    // Update button active state
    languageButtons.forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });

    // Translate main page elements
    elementsToTranslate.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            element.textContent = translations[lang][id];
        }
    });

    // Special handling for input placeholders and specific modal elements
    if (lang === 'ru') {
        // About Modal
        const aboutModalContent = document.querySelector('#aboutModal .modal-content');
        if (aboutModalContent) {
            const paragraphs = aboutModalContent.querySelectorAll('p');
            if (paragraphs.length >= 2) {
                paragraphs[0].textContent = translations[lang]['aboutModalParagraph1'];
                paragraphs[1].textContent = translations[lang]['aboutModalParagraph2'];
            }
        }

        // Events Modal
        const eventsModalContent = document.querySelector('#eventsModal .modal-content');
        if (eventsModalContent) {
            const eventDivs = eventsModalContent.querySelectorAll('.bg-yellow-50');
            if (eventDivs.length >= 3) {
                // Cultural Showcase
                eventDivs[0].querySelector('h3').textContent = translations[lang]['eventsCulturalShowcaseTitle'];
                eventDivs[0].querySelectorAll('p')[0].textContent = translations[lang]['eventsCulturalShowcaseDescription'];
                eventDivs[0].querySelectorAll('p')[1].textContent = translations[lang]['eventsCulturalShowcaseDate'];

                // Community Feast
                eventDivs[1].querySelector('h3').textContent = translations[lang]['eventsCommunityFeastTitle'];
                eventDivs[1].querySelectorAll('p')[0].textContent = translations[lang]['eventsCommunityFeastDescription'];
                eventDivs[1].querySelectorAll('p')[1].textContent = translations[lang]['eventsCommunityFeastDate'];

                // New Beginnings Concert
                eventDivs[2].querySelector('h3').textContent = translations[lang]['eventsNewBeginningsConcertTitle'];
                eventDivs[2].querySelectorAll('p')[0].textContent = translations[lang]['eventsNewBeginningsConcertDescription'];
                eventDivs[2].querySelectorAll('p')[1].textContent = translations[lang]['eventsNewBeginningsConcertDate'];
            }
        }

        // Contact Modal
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const messageInput = document.getElementById('message');
        const submitButton = document.querySelector('#contactForm button[type="submit"]');

        if (nameInput) nameInput.setAttribute('placeholder', translations[lang]['contactNamePlaceholder']);
        if (emailInput) emailInput.setAttribute('placeholder', translations[lang]['contactEmailPlaceholder']);
        if (messageInput) messageInput.setAttribute('placeholder', translations[lang]['contactMessagePlaceholder']);
        if (submitButton) submitButton.textContent = translations[lang]['contactSubmitButton'];
    }
}

// Add event listeners to language buttons
languageButtons.forEach(button => {
    button.addEventListener('click', () => {
        setLanguage(button.dataset.lang);
    });
});

// Popup functionality
const newYearPopup = document.getElementById('newYearPopup');
const closePopup = document.getElementById('closePopup');
const ctaButton = document.getElementById('ctaButton');
const popupLearnMore = document.getElementById('popupLearnMore');

// Open popup when CTA or Learn More buttons are clicked
ctaButton.addEventListener('click', () => {
    newYearPopup.style.display = 'flex';
});

popupLearnMore.addEventListener('click', () => {
    // Add your redirect logic here
    alert('Redirecting to more information');
});

// Auto-open popup on page load
window.addEventListener('load', () => {
    // Uncomment the line below to auto-open popup
    // newYearPopup.style.display = 'flex';

    // Check for saved language preference
    const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
    setLanguage(savedLanguage);
});

// Close popup functionality
closePopup.addEventListener('click', () => {
    newYearPopup.style.display = 'none';
});

window.addEventListener('click', (event) => {
    if (event.target === newYearPopup) {
        newYearPopup.style.display = 'none';
    }
});

 // Modal Functionality
 function initializeModals() {
    const modals = document.querySelectorAll('.modal');
    const closeBtns = document.querySelectorAll('.close-modal');
    const navLinks = document.querySelectorAll('nav a');

    // Map nav links to modals
    const modalMap = {
        'About': 'aboutModal',
        'Events': 'eventsModal',
        'Contact': 'contactModal'
    };

    // Open modal function
    function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'block';
        }
    }

    // Close modal function
    function closeModal(modal) {
        modal.style.display = 'none';
    }

    // Close modal when clicking outside
    window.addEventListener('click', (e) => {
        modals.forEach(modal => {
            if (e.target === modal) {
                closeModal(modal);
            }
        });
    });

    // Close button functionality
    closeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const modal = btn.closest('.modal');
            closeModal(modal);
        });
    });

    // Footer Navigation links functionality
const footerLinks = document.querySelectorAll('footer nav a');
footerLinks.forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();
        const modalId = modalMap[link.textContent.trim()];
        if (modalId) {
            openModal(modalId);
        }
    });
});

    // Contact Form Submission
    const contactForm = document.getElementById('contactForm');
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        alert('Thank you for your message! We will get back to you soon.');
        contactForm.reset();
        document.getElementById('contactModal').style.display = 'none';
    });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', initializeModals);

